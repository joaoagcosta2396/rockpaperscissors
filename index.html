<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Page Title</title>
    </head>

    <body>

        <button id = "rockBtn">Rock</button>
        <button id = "paperBtn">Paper</button>
        <button id = "scissorBtn">Scissors</button>

        <div id="score"></div>
        <p id = "result"></p>


        <script>
           
            const result = "";
            user_score = 0;
            pc_score = 0;
            var res = pc_score + " - " + user_score;
            document.getElementById("result").innerHTML = res;  
            
        
        

            const element = document.getElementById("rockBtn");
            element.addEventListener("click", function (){
               
                const computerSelection = getComputerChoice();
                const playerSelection = "rock";
                const result = playRound(playerSelection, computerSelection);
                
    
                if (result === "win"){
                    user_score += 1;
                }else{
                    if(result === "lost"){
                        pc_score += 1;
                    }
                }
                displayResult(computerSelection, playerSelection, user_score, pc_score);
                if( user_score === 5 || pc_score === 5){
                    user_score = 0; pc_score = 0;
                    displayResult(" ", " ", user_score, pc_score);
                }

            });

            const element2 = document.getElementById("paperBtn");
            element2.addEventListener("click", function (){
                const computerSelection = getComputerChoice();
                const playerSelection = "paper";
                const result = playRound(playerSelection, computerSelection);
  
           
                
                if (result === "win"){
                    user_score +=1;
                }else{
                    if(result === "lost"){
                        pc_score += 1
                    }
                }
                displayResult(computerSelection, playerSelection, user_score, pc_score);
                if( user_score === 5 || pc_score === 5){
                    user_score = 0; pc_score = 0;
                    displayResult(" ", " ", user_score, pc_score);
                }
            });

            const element3 = document.getElementById("scissorBtn");
            element3.addEventListener("click", function(){
                const computerSelection = getComputerChoice();
                const playerSelection = "scissors";
                const result = playRound(playerSelection, computerSelection);
                          

                if (result === "win"){
                    user_score += 1;
                }else{
                    if(result === "lost"){
                        pc_score +=1;
                    }
                }
                displayResult(computerSelection, playerSelection, user_score, pc_score);
                if( user_score === 5 || pc_score === 5){
                    user_score = 0; pc_score = 0;
                    displayResult(" ", " ", user_score, pc_score);
                }


            });


        

             //return randomly (rock, paper, scissors) by using a switch option
             function getComputerChoice(){

                let x = Math.floor(Math.random() * 3) + 1;
                // console.log(x);

                switch(x){
                    case 1: 
                        return "rock"; 
                        
                    case 2: 
                        return "paper"; 
                        
                    case 3: 
                        return "scissors"; 
                        
                }


            }
            // returns string that declares the winner
            function playRound(playerSelection, computerSelection){


              

                if ( playerSelection === computerSelection){
                    document.getElementById("score").innerHTML = "No one won the round";
                    return "draw";
                }else{
                    if (( playerSelection === "rock" && computerSelection === "paper") || 
                        ( playerSelection === "scissors" && computerSelection === "rock") ||
                        ( playerSelection === "paper" && computerSelection === "scissors") ){
                            document.getElementById("score").innerHTML = "Lost the round!";
                            return "lost"
                    }else{
                        document.getElementById("score").innerHTML = "You won the round";
                        return "win";
                        
                    }
                }
                

            }

            
            
            function displayResult(computerSelection, playerSelection, user_score, pc_score){
                console.log("Your choice", playerSelection ,"Your score: ", user_score);
                console.log("Pc choice: ", computerSelection, "Pc score: ", pc_score );
                var res = pc_score + " - " + user_score;
                document.getElementById("result").innerHTML = res;  

                if( user_score === 5 || pc_score === 5){
                    user_score = 0; pc_score = 0;
                }
                document.getElementById("result").innerHTML = res;  
                

            }
            





           


            
        </script>


    </body>

</html>